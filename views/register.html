<!doctype html>
<html lang="en" dir="ltr">
{{include "layouts/_head"}}

<body>
  <div class="page">
    <div class="page-single">
      <div class="container">
        <div class="row">
          <div class="col col-login mx-auto">
            <div class="text-center mb-6">
              <img src="/demo/brand/tabler.svg" class="h-7" alt="">
            </div>
            {{if .error}}
            <div class="alert alert-icon alert-danger" role="alert">
              <i class="fe fe-alert-triangle mr-2" aria-hidden="true"></i>
              {{.error}}
            </div>
            {{end}}
            <form class="card" action="/register" method="post">
              <div class="card-body p-6">
                <div class="card-title">Erstelle einen neuen Account</div>
                <div class="form-group">
                  <label class="form-label">Nutzername</label>
                  <input type="text" name="name" class="form-control" placeholder="Nutzername" value="{{.user}}">
                </div>
                <div class="form-group">
                  <label class="form-label">E-Mail Adresse</label>
                  <input type="name" name="mail" class="form-control" placeholder="max@mustermann.de"
                    value="{{.mail}}">
                </div>
                <div class="form-group">
                  <label class="form-label">Passwort</label>
                  <input type="password" id="pass" name="password" class="form-control" placeholder="Passwort" value="123456"
                    oninput="checkPassword()">
                  <div class="progress mt-2" style="height: 5px;">
                    <div class="progress-bar w-1 bg-danger" id="bar" role="progressbar" aria-valuenow="1" aria-valuemin="0"
                      aria-valuemax="100"></div>
                  </div>
                </div>

                <div class="form-group">
                  <input type="password" name="passwordRepeat" class="form-control" placeholder="Passwort wiederholen"
                    value="123456">
                </div>
                <div class="form-footer">
                  <button type="submit" class="btn btn-danger btn-block">Registrieren</button>
                </div>
              </div>
            </form>
            <div class="text-center text-muted">
              Du besitzt schon einen Account? <a class="text-secondary" href="/login">Sign in</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>

<div class="progress-bar w-25" id="bar" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
</div>


<script>
  function checkPassword() {
    result = zxcvbn(document.getElementById("pass").value)
    console.log(result.score)
    console.log(document.getElementById("pass").value)
    switch (result.score) {
      case 0:
        document.getElementById("bar").setAttribute("aria-valuenow", "1")
        document.getElementById("bar").className = 'progress-bar w-1 bg-danger';
        break;
      case 1:
        document.getElementById("bar").setAttribute("aria-valuenow", "25")
        document.getElementById("bar").className = 'progress-bar w-25 bg-danger';
        break;
      case 2:
        document.getElementById("bar").setAttribute("aria-valuenow", "50")
        document.getElementById("bar").className = 'progress-bar w-50 bg-warning';
        break;
      case 3:
        document.getElementById("bar").setAttribute("aria-valuenow", "75")
        document.getElementById("bar").className = 'progress-bar w-75 bg-success';
        break;
      case 4:
        document.getElementById("bar").setAttribute("aria-valuenow", "100")
        document.getElementById("bar").className = 'progress-bar w-100 bg-success';
        break;

      default:
        break;
    }
  }
</script>

</html>